var ct=Object.defineProperty;var ut=(t,e,l)=>e in t?ct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var j=(t,e,l)=>(ut(t,typeof e!="symbol"?e+"":e,l),l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function l(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=l(r);fetch(r.href,i)}})();function be(){}function ht(t,e){for(const l in e)t[l]=e[l];return t}function xe(t){return t()}function Ye(){return Object.create(null)}function re(t){t.forEach(xe)}function et(t){return typeof t=="function"}function we(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ke;function Ae(t,e){return t===e?!0:(ke||(ke=document.createElement("a")),ke.href=e,t===ke.href)}function pt(t){return Object.keys(t).length===0}function dt(t,e,l,n){if(t){const r=tt(t,e,l,n);return t[0](r)}}function tt(t,e,l,n){return t[1]&&n?ht(l.ctx.slice(),t[1](n(e))):l.ctx}function gt(t,e,l,n){if(t[2]&&n){const r=t[2](n(l));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],s=Math.max(e.dirty.length,r.length);for(let h=0;h<s;h+=1)i[h]=e.dirty[h]|r[h];return i}return e.dirty|r}return e.dirty}function _t(t,e,l,n,r,i){if(r){const s=tt(e,l,n,i);t.p(s,r)}}function mt(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function u(t,e){t.appendChild(e)}function R(t,e,l){t.insertBefore(e,l||null)}function F(t){t.parentNode&&t.parentNode.removeChild(t)}function de(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function b(t){return document.createElement(t)}function X(t){return document.createTextNode(t)}function O(){return X(" ")}function lt(){return X("")}function le(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function m(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function yt(t){return Array.from(t.childNodes)}function K(t,e){e=""+e,t.data!==e&&(t.data=e)}function g(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}let Ne;function ge(t){Ne=t}function nt(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const ue=[],Ce=[];let he=[];const Ie=[],kt=Promise.resolve();let Ee=!1;function vt(){Ee||(Ee=!0,kt.then(rt))}function Oe(t){he.push(t)}const ze=new Set;let ce=0;function rt(){if(ce!==0)return;const t=Ne;do{try{for(;ce<ue.length;){const e=ue[ce];ce++,ge(e),bt(e.$$)}}catch(e){throw ue.length=0,ce=0,e}for(ge(null),ue.length=0,ce=0;Ce.length;)Ce.pop()();for(let e=0;e<he.length;e+=1){const l=he[e];ze.has(l)||(ze.add(l),l())}he.length=0}while(ue.length);for(;Ie.length;)Ie.pop()();Ee=!1,ze.clear(),ge(t)}function bt(t){if(t.fragment!==null){t.update(),re(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Oe)}}function wt(t){const e=[],l=[];he.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),he=e}const ve=new Set;let ne;function U(){ne={r:0,c:[],p:ne}}function V(){ne.r||re(ne.c),ne=ne.p}function y(t,e){t&&t.i&&(ve.delete(t),t.i(e))}function M(t,e,l,n){if(t&&t.o){if(ve.has(t))return;ve.add(t),ne.c.push(()=>{ve.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function J(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function pe(t){t&&t.c()}function ie(t,e,l){const{fragment:n,after_update:r}=t.$$;n&&n.m(e,l),Oe(()=>{const i=t.$$.on_mount.map(xe).filter(et);t.$$.on_destroy?t.$$.on_destroy.push(...i):re(i),t.$$.on_mount=[]}),r.forEach(Oe)}function ae(t,e){const l=t.$$;l.fragment!==null&&(wt(l.after_update),re(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Mt(t,e){t.$$.dirty[0]===-1&&(ue.push(t),vt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Be(t,e,l,n,r,i,s=null,h=[-1]){const c=Ne;ge(t);const p=t.$$={fragment:null,ctx:[],props:i,update:be,not_equal:r,bound:Ye(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Ye(),dirty:h,skip_bound:!1,root:e.target||c.$$.root};s&&s(p.root);let k=!1;if(p.ctx=l?l(t,e.props||{},(d,v,...w)=>{const N=w.length?w[0]:v;return p.ctx&&r(p.ctx[d],p.ctx[d]=N)&&(!p.skip_bound&&p.bound[d]&&p.bound[d](N),k&&Mt(t,d)),v}):[],p.update(),k=!0,re(p.before_update),p.fragment=n?n(p.ctx):!1,e.target){if(e.hydrate){const d=yt(e.target);p.fragment&&p.fragment.l(d),d.forEach(F)}else p.fragment&&p.fragment.c();e.intro&&y(t.$$.fragment),ie(t,e.target,e.anchor),rt()}ge(c)}class Se{constructor(){j(this,"$$");j(this,"$$set")}$destroy(){ae(this,1),this.$destroy=be}$on(e,l){if(!et(l))return be;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const r=n.indexOf(l);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!pt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Pt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pt);function Lt(t){let e,l,n,r,i,s,h,c,p,k;const d=t[3].default,v=dt(d,t,t[2],null);return{c(){e=b("div"),l=b("div"),n=b("div"),r=O(),i=b("div"),s=O(),h=b("div"),v&&v.c(),m(n,"class","back1 svelte-rd7nqt"),m(i,"class","back2 svelte-rd7nqt"),m(l,"class","back svelte-rd7nqt"),g(l,"transform","rotateY("+(t[1]?0:180)+"deg)"),m(h,"class","front svelte-rd7nqt"),g(h,"transform","rotateY("+(t[1]?0:180)+"deg)"),m(e,"class","card svelte-rd7nqt"),g(e,"--size",t[0]+"px")},m(w,N){R(w,e,N),u(e,l),u(l,n),u(l,r),u(l,i),u(e,s),u(e,h),v&&v.m(h,null),c=!0,p||(k=le(e,"click",t[4]),p=!0)},p(w,[N]){(!c||N&2)&&g(l,"transform","rotateY("+(w[1]?0:180)+"deg)"),v&&v.p&&(!c||N&4)&&_t(v,d,w,w[2],c?gt(d,w[2],N,null):mt(w[2]),null),(!c||N&2)&&g(h,"transform","rotateY("+(w[1]?0:180)+"deg)"),(!c||N&1)&&g(e,"--size",w[0]+"px")},i(w){c||(y(v,w),c=!0)},o(w){M(v,w),c=!1},d(w){w&&F(e),v&&v.d(w),p=!1,k()}}}function zt(t,e,l){let{$$slots:n={},$$scope:r}=e,{size:i=10}=e,{front:s=!0}=e;function h(c){nt.call(this,t,c)}return t.$$set=c=>{"size"in c&&l(0,i=c.size),"front"in c&&l(1,s=c.front),"$$scope"in c&&l(2,r=c.$$scope)},[i,s,r,n,h]}class Ct extends Se{constructor(e){super(),Be(this,e,zt,Lt,we,{size:0,front:1})}}function Et(t){let e,l,n,r,i,s,h,c,p,k,d,v=t[6]=="range"?"ðŸ¹":"âš”ï¸",w,N,H,I,Q,Y,W;return{c(){e=b("div"),l=b("div"),n=X(t[2]),r=O(),i=b("div"),s=X(t[3]),h=O(),c=b("div"),p=X(t[4]),k=O(),d=b("div"),w=X(v),N=O(),H=b("div"),I=X(t[5]),Q=O(),Y=b("img"),m(l,"class","title svelte-lxkyxw"),m(i,"class","life svelte-lxkyxw"),m(c,"class","attack svelte-lxkyxw"),m(d,"class","occ svelte-lxkyxw"),m(H,"class","energy svelte-lxkyxw"),Ae(Y.src,W="/public/"+t[2]+".png")||m(Y,"src",W),m(Y,"alt",t[2]),m(Y,"class","svelte-lxkyxw"),m(e,"class","slot svelte-lxkyxw")},m(S,_){R(S,e,_),u(e,l),u(l,n),u(e,r),u(e,i),u(i,s),u(e,h),u(e,c),u(c,p),u(e,k),u(e,d),u(d,w),u(e,N),u(e,H),u(H,I),u(e,Q),u(e,Y)},p(S,_){_&4&&K(n,S[2]),_&8&&K(s,S[3]),_&16&&K(p,S[4]),_&64&&v!==(v=S[6]=="range"?"ðŸ¹":"âš”ï¸")&&K(w,v),_&32&&K(I,S[5]),_&4&&!Ae(Y.src,W="/public/"+S[2]+".png")&&m(Y,"src",W),_&4&&m(Y,"alt",S[2])},d(S){S&&F(e)}}}function Ot(t){let e,l;return e=new Ct({props:{size:t[0],front:t[1],$$slots:{default:[Et]},$$scope:{ctx:t}}}),e.$on("click",t[7]),{c(){pe(e.$$.fragment)},m(n,r){ie(e,n,r),l=!0},p(n,[r]){const i={};r&1&&(i.size=n[0]),r&2&&(i.front=n[1]),r&380&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){l||(y(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){ae(e,n)}}}function Nt(t,e,l){let{size:n=10}=e,{front:r=!1}=e,{name:i="Angel"}=e,{life:s=100}=e,{attack:h=10}=e,{energy:c=15}=e,{occupation:p="melee"}=e;function k(d){nt.call(this,t,d)}return t.$$set=d=>{"size"in d&&l(0,n=d.size),"front"in d&&l(1,r=d.front),"name"in d&&l(2,i=d.name),"life"in d&&l(3,s=d.life),"attack"in d&&l(4,h=d.attack),"energy"in d&&l(5,c=d.energy),"occupation"in d&&l(6,p=d.occupation)},[n,r,i,s,h,c,p,k]}class _e extends Se{constructor(e){super(),Be(this,e,Nt,Ot,we,{size:0,front:1,name:2,life:3,attack:4,energy:5,occupation:6})}}class Xe{constructor(){j(this,"crew",[])}vacancy(){return this.crew.length==0}addCrew(e){return this.crew=[...this.crew,...e],this}createLibary(e){this.crew=e}suffle(){for(let e=this.crew.length-1;e>0;e--){let l=Math.floor(Math.random()*(e+1));[this.crew[e],this.crew[l]]=[this.crew[l],this.crew[e]]}}draw(e=1){return this.crew.splice(0,e)}play(e){return this.crew.splice(e,1)}}class Bt{constructor(e,l,n){j(this,"playerhand",[]);j(this,"opphand",[]);j(this,"playerdeck");j(this,"oppdeck");j(this,"playergrave",[]);j(this,"oppgrave",[]);j(this,"playLife",1e3);j(this,"playMP",100);j(this,"oppLife",1e3);j(this,"oppMP",100);j(this,"playMaxMP",100);j(this,"oppMaxMP",100);j(this,"playerbattle",[null,null,null,null,null,null]);j(this,"oppbattle",[null,null,null,null,null,null]);j(this,"refresh",()=>{console.log(this.refresh)});this.playerdeck=e,this.oppdeck=l,this.playerdeck.suffle(),this.oppdeck.suffle(),this.draw(3),this.refresh=n}draw(e){this.playerhand=[...this.playerhand,...this.playerdeck.draw(e)],this.opphand=this.opphand.concat(this.oppdeck.draw(e)),this.playerhandareaChange(360),this.playerhand.sort((l,n)=>l.energy-n.energy),this.opphand.sort((l,n)=>l.energy-n.energy)}playerhandareaChange(e=360){this.playerhand.forEach((l,n)=>{l.pos={y:1,x:n*e/this.playerhand.length}})}async pass(){this.oppplay(),await this.delay(1),this.fight(),this.refresh(),this.draw(1),this.playMaxMP<1e3&&(this.playMaxMP+=100),this.oppMaxMP<1e3&&(this.oppMaxMP+=100),this.playMP=this.playMaxMP,this.oppMP=this.oppMaxMP,this.playLife<=0&&alert("lose"),this.oppLife<=0&&alert("win")}play(e,l){this.playerhand[e]==null||this.playerbattle[l]!=null||this.playMP<this.playerhand[e].energy||(this.playerbattle[l]=this.playerhand.splice(e,1)[0],this.playMP-=this.playerbattle[l].energy)}oppplay(){if(this.opphand[0]!=null)for(;this.opphand[0].energy<=this.oppMP;){for(let e=0;e<6;e++)if(this.oppbattle[e]==null){this.oppbattle[e]=this.opphand.shift(),this.oppMP-=this.oppbattle[e].energy;break}if(this.opphand[0]==null)return}}battleStatus(e,l){return e==null&&l==null?"nothing":e!=null&&l!=null?e.occ=="range"&&l.occ!="range"?"pa":e.occ!="range"&&l.occ=="range"?"oa":"both":e!=null?"player":"opponent"}fight(){for(let e=0;e<6;e++){let l=this.playerbattle[e],n=this.oppbattle[e];switch(this.battleStatus(l,n)){case"both":l.life-=n.attack,n.life-=l.attack,l.life<=0&&(this.playergrave.push(l),this.playerbattle[e]=null),n.life<=0&&(this.playergrave.push(n),this.oppbattle[e]=null);break;case"player":this.oppLife-=l.attack;break;case"opponent":this.playLife-=n.attack;break;case"pa":if(n.life-=l.attack,n.life<=0){this.playergrave.push(n),this.oppbattle[e]=null;break}l.life-=n.attack,l.life<=0&&(this.playergrave.push(l),this.playerbattle[e]=null);break;case"oa":if(l.life-=n.attack,l.life<=0){this.playergrave.push(l),this.playerbattle[e]=null;break}if(n.life-=l.attack,n.life<=0){this.playergrave.push(n),this.oppbattle[e]=null;break}break}}}async delay(e){return new Promise(l=>{setTimeout(l,e*1e3)})}}function Fe(t,e,l){const n=t.slice();return n[18]=e[l],n[19]=e,n[20]=l,n}function Je(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function Re(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function Te(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function De(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function Ke(t){let e=t[5],l,n,r=$e(t);return{c(){r.c(),l=lt()},m(i,s){r.m(i,s),R(i,l,s),n=!0},p(i,s){s&32&&we(e,e=i[5])?(U(),M(r,1,1,be),V(),r=$e(i),r.c(),y(r,1),r.m(l.parentNode,l)):r.p(i,s)},i(i){n||(y(r),n=!0)},o(i){M(r),n=!1},d(i){i&&F(l),r.d(i)}}}function Ue(t){let e,l,n,r;return l=new _e({props:{name:t[18].name,front:!1,size:G,life:t[18].life,attack:t[18].attack,energy:t[18].energy,occupation:t[18].occ}}),{c(){e=b("div"),pe(l.$$.fragment),n=O(),g(e,"position","absolute"),g(e,"top","2px"),g(e,"left",(t[20]<5?2*t[20]:10)+"px"),m(e,"class","svelte-5fl1bk")},m(i,s){R(i,e,s),ie(l,e,null),u(e,n),r=!0},p(i,s){const h={};s&1&&(h.name=i[18].name),s&1&&(h.life=i[18].life),s&1&&(h.attack=i[18].attack),s&1&&(h.energy=i[18].energy),s&1&&(h.occupation=i[18].occ),l.$set(h)},i(i){r||(y(l.$$.fragment,i),r=!0)},o(i){M(l.$$.fragment,i),r=!1},d(i){i&&F(e),ae(l)}}}function Ve(t){let e,l;return e=new _e({props:{name:t[18].name,front:!0,size:G,life:t[18].life,attack:t[18].attack,energy:t[18].energy,occupation:t[18].occ}}),{c(){pe(e.$$.fragment)},m(n,r){ie(e,n,r),l=!0},p(n,r){const i={};r&1&&(i.name=n[18].name),r&1&&(i.life=n[18].life),r&1&&(i.attack=n[18].attack),r&1&&(i.energy=n[18].energy),r&1&&(i.occupation=n[18].occ),e.$set(i)},i(n){l||(y(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){ae(e,n)}}}function Ge(t){let e,l,n,r=t[18]&&Ve(t);return{c(){e=b("div"),r&&r.c(),l=O(),m(e,"class","ground svelte-5fl1bk"),g(e,"top","1px"),g(e,"left",t[20]*G*11+"px")},m(i,s){R(i,e,s),r&&r.m(e,null),u(e,l),n=!0},p(i,s){i[18]?r?(r.p(i,s),s&1&&y(r,1)):(r=Ve(i),r.c(),y(r,1),r.m(e,l)):r&&(U(),M(r,1,1,()=>{r=null}),V())},i(i){n||(y(r),n=!0)},o(i){M(r),n=!1},d(i){i&&F(e),r&&r.d()}}}function He(t){let e,l;return e=new _e({props:{name:t[18].name,front:!0,size:G,life:t[18].life,attack:t[18].attack,energy:t[18].energy,occupation:t[18].occ}}),{c(){pe(e.$$.fragment)},m(n,r){ie(e,n,r),l=!0},p(n,r){const i={};r&1&&(i.name=n[18].name),r&1&&(i.life=n[18].life),r&1&&(i.attack=n[18].attack),r&1&&(i.energy=n[18].energy),r&1&&(i.occupation=n[18].occ),e.$set(i)},i(n){l||(y(e.$$.fragment,n),l=!0)},o(n){M(e.$$.fragment,n),l=!1},d(n){ae(e,n)}}}function Qe(t){let e,l,n,r=t[18]&&He(t);return{c(){e=b("div"),r&&r.c(),l=O(),m(e,"class","ground svelte-5fl1bk"),g(e,"top","1px"),g(e,"left",t[20]*G*11+"px"),g(e,"transform","rotate(180deg)")},m(i,s){R(i,e,s),r&&r.m(e,null),u(e,l),n=!0},p(i,s){i[18]?r?(r.p(i,s),s&1&&y(r,1)):(r=He(i),r.c(),y(r,1),r.m(e,l)):r&&(U(),M(r,1,1,()=>{r=null}),V())},i(i){n||(y(r),n=!0)},o(i){M(r),n=!1},d(i){i&&F(e),r&&r.d()}}}function We(t){let e,l,n,r,i,s;l=new _e({props:{name:t[18].name,front:t[18].front,size:G,life:t[18].life,attack:t[18].attack,energy:t[18].energy,occupation:t[18].occ}});function h(...p){return t[9](t[18],...p)}function c(...p){return t[10](t[20],...p)}return{c(){e=b("div"),pe(l.$$.fragment),n=O(),g(e,"position","absolute"),g(e,"top",t[18].pos.y+"px"),g(e,"left",t[18].pos.x+"px"),g(e,"transform","rotate("+t[1]+"deg)"),m(e,"class","svelte-5fl1bk")},m(p,k){R(p,e,k),ie(l,e,null),u(e,n),r=!0,i||(s=[le(e,"mousedown",h),le(e,"mouseup",c)],i=!0)},p(p,k){t=p;const d={};k&1&&(d.name=t[18].name),k&1&&(d.front=t[18].front),k&1&&(d.life=t[18].life),k&1&&(d.attack=t[18].attack),k&1&&(d.energy=t[18].energy),k&1&&(d.occupation=t[18].occ),l.$set(d),(!r||k&1)&&g(e,"top",t[18].pos.y+"px"),(!r||k&1)&&g(e,"left",t[18].pos.x+"px"),(!r||k&2)&&g(e,"transform","rotate("+t[1]+"deg)")},i(p){r||(y(l.$$.fragment,p),r=!0)},o(p){M(l.$$.fragment,p),r=!1},d(p){p&&F(e),ae(l),i=!1,re(s)}}}function Ze(t){let e,l,n,r;function i(...s){return t[13](t[18],t[19],t[20],...s)}return l=new _e({props:{name:t[18].name,front:!1,size:G,life:t[18].life,attack:t[18].attack,energy:t[18].energy,occupation:t[18].occ}}),l.$on("click",i),{c(){e=b("div"),pe(l.$$.fragment),n=O(),g(e,"position","absolute"),g(e,"top","1px"),g(e,"left",t[20]*360/t[0].opphand.length+"px"),g(e,"transform","rotate(45deg)"),m(e,"class","svelte-5fl1bk")},m(s,h){R(s,e,h),ie(l,e,null),u(e,n),r=!0},p(s,h){t=s;const c={};h&1&&(c.name=t[18].name),h&1&&(c.life=t[18].life),h&1&&(c.attack=t[18].attack),h&1&&(c.energy=t[18].energy),h&1&&(c.occupation=t[18].occ),l.$set(c),(!r||h&1)&&g(e,"left",t[20]*360/t[0].opphand.length+"px")},i(s){r||(y(l.$$.fragment,s),r=!0)},o(s){M(l.$$.fragment,s),r=!1},d(s){s&&F(e),ae(l)}}}function $e(t){let e,l,n,r,i,s,h,c,p,k,d,v,w,N,H,I,Q=t[0].playLife+"",Y,W,S,_,B=t[0].playMP+"",T,D,oe,me=t[0].oppLife+"",Me,je,se,fe,ye=t[0].oppMP+"",Pe,q,Le,qe,Z=J(t[0].playerdeck.crew),P=[];for(let o=0;o<Z.length;o+=1)P[o]=Ue(De(t,Z,o));const it=o=>M(P[o],1,1,()=>{P[o]=null});let $=J(t[0].playerbattle),L=[];for(let o=0;o<$.length;o+=1)L[o]=Ge(Te(t,$,o));const at=o=>M(L[o],1,1,()=>{L[o]=null});let x=J(t[0].oppbattle),z=[];for(let o=0;o<x.length;o+=1)z[o]=Qe(Re(t,x,o));const ot=o=>M(z[o],1,1,()=>{z[o]=null});let ee=J(t[0].playerhand),C=[];for(let o=0;o<ee.length;o+=1)C[o]=We(Je(t,ee,o));const st=o=>M(C[o],1,1,()=>{C[o]=null});let te=J(t[0].opphand),E=[];for(let o=0;o<te.length;o+=1)E[o]=Ze(Fe(t,te,o));const ft=o=>M(E[o],1,1,()=>{E[o]=null});return{c(){e=b("div"),l=b("div"),n=O(),r=b("button"),r.textContent="pass",i=O(),s=b("div");for(let o=0;o<P.length;o+=1)P[o].c();h=O(),c=b("div");for(let o=0;o<L.length;o+=1)L[o].c();p=O(),k=b("div");for(let o=0;o<z.length;o+=1)z[o].c();d=O(),v=b("div");for(let o=0;o<C.length;o+=1)C[o].c();w=O(),N=b("div");for(let o=0;o<E.length;o+=1)E[o].c();H=O(),I=b("div"),Y=X(Q),W=O(),S=b("div"),_=b("div"),T=X(B),D=O(),oe=b("div"),Me=X(me),je=O(),se=b("div"),fe=b("div"),Pe=X(ye),g(l,"position","absolute"),g(l,"top","50%"),g(l,"left","0%"),g(l,"width","100vw"),g(l,"height","1px"),g(l,"background","white"),m(l,"class","svelte-5fl1bk"),m(r,"class","passbutton svelte-5fl1bk"),m(s,"class","deck svelte-5fl1bk"),m(c,"class","playground svelte-5fl1bk"),m(k,"class","oppground svelte-5fl1bk"),m(v,"class","playhand svelte-5fl1bk"),g(v,"width",t[2]+"px"),m(N,"class","opphand svelte-5fl1bk"),m(I,"class","playLife svelte-5fl1bk"),g(I,"height",t[0].playLife/5+"px"),m(_,"class","MP svelte-5fl1bk"),g(_,"height",t[0].playMP/10+"px"),m(S,"class","playmaxMP svelte-5fl1bk"),g(S,"height",t[0].playMaxMP/10+"px"),m(oe,"class","oppLife svelte-5fl1bk"),g(oe,"height",t[0].oppLife/5+"px"),m(fe,"class","MP svelte-5fl1bk"),g(fe,"height",t[0].oppMP/10+"px"),m(se,"class","oppmaxMP svelte-5fl1bk"),g(se,"height",t[0].oppMaxMP/10+"px"),m(e,"class","table svelte-5fl1bk"),g(e,"--cardsize",G+"px")},m(o,f){R(o,e,f),u(e,l),u(e,n),u(e,r),u(e,i),u(e,s);for(let a=0;a<P.length;a+=1)P[a]&&P[a].m(s,null);u(e,h),u(e,c);for(let a=0;a<L.length;a+=1)L[a]&&L[a].m(c,null);t[8](c),u(e,p),u(e,k);for(let a=0;a<z.length;a+=1)z[a]&&z[a].m(k,null);u(e,d),u(e,v);for(let a=0;a<C.length;a+=1)C[a]&&C[a].m(v,null);u(e,w),u(e,N);for(let a=0;a<E.length;a+=1)E[a]&&E[a].m(N,null);u(e,H),u(e,I),u(I,Y),u(e,W),u(e,S),u(S,_),u(_,T),u(e,D),u(e,oe),u(oe,Me),u(e,je),u(e,se),u(se,fe),u(fe,Pe),q=!0,Le||(qe=[le(r,"click",t[7]),le(v,"mouseenter",t[11]),le(v,"mouseleave",t[12]),le(e,"mousemove",t[14])],Le=!0)},p(o,f){if(f&1){Z=J(o[0].playerdeck.crew);let a;for(a=0;a<Z.length;a+=1){const A=De(o,Z,a);P[a]?(P[a].p(A,f),y(P[a],1)):(P[a]=Ue(A),P[a].c(),y(P[a],1),P[a].m(s,null))}for(U(),a=Z.length;a<P.length;a+=1)it(a);V()}if(f&1){$=J(o[0].playerbattle);let a;for(a=0;a<$.length;a+=1){const A=Te(o,$,a);L[a]?(L[a].p(A,f),y(L[a],1)):(L[a]=Ge(A),L[a].c(),y(L[a],1),L[a].m(c,null))}for(U(),a=$.length;a<L.length;a+=1)at(a);V()}if(f&1){x=J(o[0].oppbattle);let a;for(a=0;a<x.length;a+=1){const A=Re(o,x,a);z[a]?(z[a].p(A,f),y(z[a],1)):(z[a]=Qe(A),z[a].c(),y(z[a],1),z[a].m(k,null))}for(U(),a=x.length;a<z.length;a+=1)ot(a);V()}if(f&75){ee=J(o[0].playerhand);let a;for(a=0;a<ee.length;a+=1){const A=Je(o,ee,a);C[a]?(C[a].p(A,f),y(C[a],1)):(C[a]=We(A),C[a].c(),y(C[a],1),C[a].m(v,null))}for(U(),a=ee.length;a<C.length;a+=1)st(a);V()}if((!q||f&4)&&g(v,"width",o[2]+"px"),f&1){te=J(o[0].opphand);let a;for(a=0;a<te.length;a+=1){const A=Fe(o,te,a);E[a]?(E[a].p(A,f),y(E[a],1)):(E[a]=Ze(A),E[a].c(),y(E[a],1),E[a].m(N,null))}for(U(),a=te.length;a<E.length;a+=1)ft(a);V()}(!q||f&1)&&Q!==(Q=o[0].playLife+"")&&K(Y,Q),(!q||f&1)&&g(I,"height",o[0].playLife/5+"px"),(!q||f&1)&&B!==(B=o[0].playMP+"")&&K(T,B),(!q||f&1)&&g(_,"height",o[0].playMP/10+"px"),(!q||f&1)&&g(S,"height",o[0].playMaxMP/10+"px"),(!q||f&1)&&me!==(me=o[0].oppLife+"")&&K(Me,me),(!q||f&1)&&g(oe,"height",o[0].oppLife/5+"px"),(!q||f&1)&&ye!==(ye=o[0].oppMP+"")&&K(Pe,ye),(!q||f&1)&&g(fe,"height",o[0].oppMP/10+"px"),(!q||f&1)&&g(se,"height",o[0].oppMaxMP/10+"px")},i(o){if(!q){for(let f=0;f<Z.length;f+=1)y(P[f]);for(let f=0;f<$.length;f+=1)y(L[f]);for(let f=0;f<x.length;f+=1)y(z[f]);for(let f=0;f<ee.length;f+=1)y(C[f]);for(let f=0;f<te.length;f+=1)y(E[f]);q=!0}},o(o){P=P.filter(Boolean);for(let f=0;f<P.length;f+=1)M(P[f]);L=L.filter(Boolean);for(let f=0;f<L.length;f+=1)M(L[f]);z=z.filter(Boolean);for(let f=0;f<z.length;f+=1)M(z[f]);C=C.filter(Boolean);for(let f=0;f<C.length;f+=1)M(C[f]);E=E.filter(Boolean);for(let f=0;f<E.length;f+=1)M(E[f]);q=!1},d(o){o&&F(e),de(P,o),de(L,o),t[8](null),de(z,o),de(C,o),de(E,o),Le=!1,re(qe)}}}function St(t){let e,l,n=t[0]&&Ke(t);return{c(){n&&n.c(),e=lt()},m(r,i){n&&n.m(r,i),R(r,e,i),l=!0},p(r,[i]){r[0]?n?(n.p(r,i),i&1&&y(n,1)):(n=Ke(r),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(U(),M(n,1,1,()=>{n=null}),V())},i(r){l||(y(n),l=!0)},o(r){M(n),l=!1},d(r){r&&F(e),n&&n.d(r)}}}let G=12;function jt(t,e,l){let n=new Xe,r=new Xe,i;fetch("test.json").then(_=>_.json()).then(_=>{n.addCrew(_);let B=JSON.parse(JSON.stringify(_));r.addCrew(B),l(0,i=new Bt(n,r,v)),window.tmp=i});let s=-90,h=360,c={selected:!1,orix:0,oriy:0,card:null},p,k=!1;function d(_,B,T){let D=p.getBoundingClientRect();B-D.bottom<0&&B-D.top>0&&i.play(T,Math.floor((_-D.x)/G/11))}function v(){l(5,k=!k)}const w=()=>{i.pass(),l(0,i)};function N(_){Ce[_?"unshift":"push"](()=>{p=_,l(4,p)})}return[i,s,h,c,p,k,d,w,N,(_,B)=>{l(3,c={selected:!0,orix:B.screenX,oriy:B.screenY,card:_})},(_,B)=>{l(3,c.selected=!1,c),d(B.clientX,B.clientY,_)},_=>{c.selected||(l(2,h=800),i.playerhandareaChange(h),l(1,s=0),l(0,i))},_=>{c.selected||(l(2,h=360),i.playerhandareaChange(h),l(1,s=-90),l(0,i))},(_,B,T,D)=>{l(0,B[T].front=!_.front,i)},_=>{if(!c.selected)return;let B=c.card,T=_.screenX-c.orix,D=_.screenY-c.oriy;B.pos.x+=T,B.pos.y+=D,l(3,c.orix=_.screenX,c),l(3,c.oriy=_.screenY,c),l(0,i)}]}class qt extends Se{constructor(e){super(),Be(this,e,jt,St,we,{})}}new qt({target:document.getElementById("app")});
